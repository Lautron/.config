#!/bin/sh

function work(){
  sleep 300 && espeak "20 minutes left" &
  sleep 600 && espeak "15 minutes left" &
  sleep 900 && espeak "10 minutes left" &
  sleep 1200 && espeak "5 minutes left" &
  timer 25m "Work"
}

for ((a=1; a <= $1; a++)); do
  espeak "Start working"
  work 
  espeak "Take a break" & timer 5m "Break 1"

  espeak "Start another task"
  work 
  espeak "Take a break" & timer 5m "Break 2"

  espeak "Start another task"
  work 
  espeak "Take a break" & timer 5m "Break 3"

  espeak "Make corrections"
  sleep 300 && espeak "10 minutes left" &
  sleep 600 && espeak "5 minutes left" &
  timer 15m "Corrections"
  espeak "Take a break" & timer 15m "Break 4"
done

